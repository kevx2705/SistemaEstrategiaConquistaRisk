<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<ui:composition template="template/template.xhtml">
    <ui:define name="content">

        <div class="risk-background">
            <div class="index-wrapper">

                <h1 class="index-title">¡Inicia sesión para conquistar!</h1>

                <h:form rendered="#{loginbean.sesionIniciada}" styleClass="signin-form">
                    <h2 class="login-title txtBlack">¡Sesión iniciada!</h2>

                    <h:panelGroup styleClass="welcome-box">
                        <h2 class="txtBlack">
                            Bienvenido,
                            <span style="color: #540f07;">#{loginbean.user}</span>
                        </h2>
                        <p class="txtBlack">¡Prepárate para conquistar el mundo!</p>

                        <p:commandButton value="Ir al lobby"
                                         action="lobby.xhtml?faces-redirect=true"
                                         styleClass="signin-btn btn-text"
                                         icon="pi pi-play" />
                    </h:panelGroup>
                </h:form>

                <h:form id="loginForm" rendered="#{!loginbean.sesionIniciada}" styleClass="signin-form">

                    <div class="form-grid">
                        <div class="form-input">
                            <p:inputText id="usuario"
                                         value="#{loginbean.user}"
                                         required="true"
                                         placeholder="Ingresa tu correo"
                                         styleClass="form-input txtBlack" />
                        </div>

                        <div class="form-input">
                            <p:password id="password"
                                        value="#{loginbean.password}"
                                        feedback="false"
                                        toggleMask="true"
                                        required="true"
                                        placeholder="Ingresa tu contraseña"
                                        styleClass="form-input txtBlack" />
                        </div>
                    </div>

                    <p:commandButton value="Entrar"
                                     action="#{loginbean.iniciarSesion}"
                                     process="@form"
                                     update="@all, :loginForm:messages, :growl-sticky"
                                     styleClass="signin-btn btn-text"
                                     style="margin-top: 30px;" />

                    <h:link outcome="registrar.xhtml"
                            styleClass="login-link"
                            style="display:block; margin-top:20px; font-weight:bold;">
                        ¿No tienes cuenta? Regístrate aquí
                    </h:link>

                    <p:messages id="messages"
                                showDetail="true"
                                showIcon="false"
                                autoUpdate="true"
                                styleClass="btn-text"
                                style="margin-top:15px;" />
                </h:form>

            </div>
        </div>

    </ui:define>
</ui:composition>
</html>
